{% load staticfiles %}
{% static "" as img %}
<html>
<head>
<title>Cart</title>
<!-- for-mobile-apps -->
<meta name="viewport" content="width=device-width, initial-scale=1">
<meta http-equiv="Content-Type" content="text/html; charset=utf-8" />
<meta name="keywords" content="Best Store Responsive web template, Bootstrap Web Templates, Flat Web Templates, Android Compatible web template, 
Smartphone Compatible web template, free webdesigns for Nokia, Samsung, LG, SonyEricsson, Motorola web design" />
<script type="application/x-javascript"> addEventListener("load", function() { setTimeout(hideURLbar, 0); }, false);
		function hideURLbar(){ window.scrollTo(0,1); } </script>
<!-- //for-mobile-apps -->
<!-- <link href="{% static 'css/bootstrap.css' %}" rel="stylesheet" type="text/css" media="all" />
<link href="{% static 'css/style.css' %}" rel="stylesheet" type="text/css" media="all" /> -->
<!-- js -->
<!-- <script src="{% static 'js/jquery.min.js' %}"></script> -->
<!-- //js -->
<!-- cart -->
<!-- <script src="{% static 'js/simpleCart.min.js' %}"></script> -->
<!-- cart -->
<!-- for bootstrap working -->
<!-- <script type="text/javascript" src="{% static 'js/bootstrap-3.1.1.min.js' %}"></script> -->
<!-- //for bootstrap working -->
<!-- <link href='//fonts.googleapis.com/css?family=Open+Sans:400,300,300italic,400italic,600,600italic,700,700italic,800,800italic' rel='stylesheet' type='text/css'>
<link href='//fonts.googleapis.com/css?family=Lato:400,100,100italic,300,300italic,400italic,700,700italic,900,900italic' rel='stylesheet' type='text/css'> -->
<!-- timer -->
<link rel="stylesheet" href="{% static 'css/jquery.countdown.css' %}" />
<!-- //timer -->
<!-- animation-effect -->
<!-- <link href="{% static 'css/animate.min.css' %}" rel="stylesheet"> 
<script src="{% static 'js/wow.min.js' %}"></script> -->
<!-- <script>
 new WOW().init();
</script> -->
<!-- //animation-effect -->
<!-- cart -->

    <!-- <link rel="stylesheet" href="{% static 'home/css/bootstrap.css' %}"> -->
    <link rel="stylesheet" href="{% static 'home/css/animate.css' %}">
    <!-- <link rel="stylesheet" href="{% static 'home/css/owl.carousel.min.css' %}">
    <link rel="stylesheet" href="{% static 'home/css/bootstrap-datepicker.css' %}">
    <link rel="stylesheet" href="{% static 'home/css/jquery.timepicker.css' %}">

    <link rel="stylesheet" href="{% static 'home/fonts/ionicons/css/ionicons.min.css' %}">
    <link rel="stylesheet" href="{% static 'home/fonts/fontawesome/css/font-awesome.min.css' %}">
    <link rel="stylesheet" href="{% static 'home/fonts/flaticon/font/flaticon.css' %}"> -->
<!-- cart -->
<!-- //for-mobile-apps -->
<!-- <link href="{% static 'cart/css/bootstrap.css' %}" rel="stylesheet" type="text/css" media="all" /> -->
<link href="{% static 'cart/css/style.css' %}" rel="stylesheet" type="text/css" media="all" />
<!-- font-awesome icons -->
<link href="{% static 'cart/css/font-awesome.css' %}" rel="stylesheet" type="text/css" media="all" /> 
<!-- //font-awesome icons -->
    <!-- Theme Style -->
    <!-- <link rel="stylesheet" href="{% static 'home/css/style.css' %}"> -->
	<!-- Meta tag Keywords -->

	<!-- css files -->
	<!-- <link rel="stylesheet" href="{% static 'home/css2/style.css' %}" type="text/css" media="all" /> -->
	<!-- Style-CSS -->
	<!-- <link href="{% static 'home/css2/font-awesome.min.css' %}" rel="stylesheet"> -->
	<!-- Font-Awesome-Icons-CSS -->

<!-- end cart -->
       <link href="{% static 'css/font-awesome.min.css' %}" rel="stylesheet">
        <link href="{% static 'vendors/linearicons/style.css' %}" rel="stylesheet">
        <link href="{% static 'vendors/flat-icon/flaticon.css' %}" rel="stylesheet">
        <link href="{% static 'vendors/stroke-icon/style.css' %}" rel="stylesheet">
        <!-- Bootstrap -->
        <link href="{% static 'css/bootstrap.min.css' %}" rel="stylesheet">
        
        <!-- Rev slider css -->
        <link href="{% static 'vendors/revolution/css/settings.css' %}" rel="stylesheet">
        <link href="{% static 'vendors/revolution/css/layers.css' %}" rel="stylesheet">
        <link href="{% static 'vendors/revolution/css/navigation.css' %}" rel="stylesheet">
        <link href="{% static 'vendors/animate-css/animate.css' %}" rel="stylesheet">
        
        <!-- Extra plugin css -->
        <link href="{% static 'vendors/owl-carousel/owl.carousel.min.css' %}" rel="stylesheet">
        <link href="{% static 'vendors/datetime-picker/css/bootstrap-datetimepicker.min.css' %}" rel="stylesheet">
        <link href="{% static 'vendors/nice-select/css/nice-select.css' %}" rel="stylesheet">
        <link href="{% static 'vendors/magnifc-popup/magnific-popup.css' %}" rel="stylesheet">
        
        <link href="{% static 'css/style.css' %}" rel="stylesheet">
        <link href="{% static 'css/responsive.css' %}" rel="stylesheet">

</head>
<body>
<!-- header -->
{% include 'user_header.html' %}
<!-- //header -->
<!-- breadcrumbs -->
	<div class="breadcrumbs">
		<div class="container">
			<ol class="breadcrumb breadcrumb1 animated wow slideInLeft" data-wow-delay=".5s">
				<li><a href="index.html"><span class="glyphicon glyphicon-home" aria-hidden="true"></span>Home</a></li>
				<li class="active">Products</li>
			</ol>
		</div>
	</div>
	<div class="products">
		<div class="container">
	      <div class="checkout-right">
					<h4>Your shopping cart contains: <span>{{itemcount}} Products</span></h4>

				<table class="timetable_sub">
					<thead>
						<tr>
							<th>Image</th>	
							<th style="display:none">Product ID</th>
							<th>Quantity</th>
							<th>Category</th>
							
							<th>Model</th>

							<th>Product Name</th>
							<th>Amount</th>
                            <th>Actual Amount</th>
							<th>Remove</th>
						</tr>
					</thead>
					<tbody>
					{%for i in cart_items %}
					<tr class="item">
						<td class="invert1"><img src="{{img}}product_image/{{i.image}}" alt=" " class="img-responsive" style="height: 15%;margin-left: 25%;"/></td>
						<td class="pdid" style="display:none">{{i.cart_id}}</td>
						<td id="me_qu"class="invert">
							 <div class="quantity"> 
								<div class="quantity-select">                           
									<div class="entry value-minus">&nbsp;</div>
                                    <div id="quant" class="entry value"><span>1</span></div>
									<div class="entry value-plus active">&nbsp;</div>
								</div>
							</div>
						</td>
						<!-- <input class="pdid" type="text"  value="{{i.pdt_id}}" style="display:none;" > -->
<!-- 						<p style="display:none;" class="pdid">{{i.pdt_id}}</p>
 -->					<td class="nr">{{i.category}}</td>
 						<td class="mr1">{{i.model}}</td>
						<td class="invert3">{{i.name}}</td>
						
						
						<td class="mr">{{i.total}}</td>
                        <td class="mer">{{i.amount}}</td>
						<td class="invert5">
							<div class="rem">
							
								<div class="close1"> </div>
							</div>

						</td>
					</tr>
					{% endfor %}
				</tbody></table>
			</div>	
			<div class="checkout-left">	
				<div class="col-md-4 checkout-left-basket">
				<h4 id="plc_odr" class="submit check_out" onclick="return Validate()">Proceed to Pay</h4>
					<ul>

						<li class="result" >Total <i>-</i> <span>
						<input type="text" name="to" id="to_tot" readonly="readonly" class="form-control"/>
						</span></li>
					</ul>
				</div>
				<div id="pay_form"  class="col-md-8 address_form_agile">
<form  action="{% url 'placeorder' %}" method="post" class="creditly-card-form agileinfo_form">{% csrf_token %}
	<input type="text" name="total_price" id="to_price" readonly="readonly" class="form-control" style="display:none;"/>
<section class="creditly-wrapper wthree, w3_agileits_wrapper">
<div class="information-wrapper" style="width: 50%;margin-left: 40%;">


<div class="first-row form-group">
	<div class="controls">
		<label class="control-label">Full name: </label>
		<input class="billing-address-name form-control" type="text" name="funame" placeholder="Full name" required>
	</div>
	<br>
	<div class="controls">

		<label class="control-label">Choose Bank: </label>
		<select name="bank" class="billing-address-name form-control">
	        <option selected="disabled" disabled="disabled">Select Your Bank</option>
	        <option>SBI</option>
	        <option>South Indian Bank</option>
	        <option>Fedral Bank</option>
	        <option>ICIC</option>
	        <option>Canara Bank</option>
	     </select>
     </div>
     <br>
<!-- 												<div class="controls">
		<label class="control-label">Registered Email: </label>
		<input class="billing-address-name form-control" type="email" name="email" placeholder="Email" required>
	</div> -->

	


	<div class="w3_agileits_card_number_grids">
		<div class="w3_agileits_card_number_grid_left">
			<div class="controls">
				<label class="control-label">Mobile number:</label>
			    <input class="form-control" type="tel" placeholder="Mobile number" name="mob" required pattern="[0-9]{10}">
			</div>
		</div>
		<br>

		<div class="w3_agileits_card_number_grid_left">
			<div class="controls">
				<label class="control-label">Account Number:</label>
			    <input type="text" class="form-control" value="Account Number" name="acc"  required="" pattern="^(\d){10}$" placeholder="account number(provide your 10digit acc no)" >
			</div>
		</div>
		<br>
		<div class="w3_agileits_card_number_grid_right">
			<div class="controls">
				<label class="control-label,">IFSC: </label>
				<input type="text"  class="form-control" class="text" name="ifsc" required="" placeholder="ifsc(11 digit IFSC)" pattern="[^\s]{4}\d{7}$">
			</div>
			<br>

			<div class="controls">
				<label class="control-label,">CVV: </label>
				<input type="text" class="form-control" class="text" name="cvv" required="" pattern="[0-9]{3}" placeholder="card number(3 DIGIT CCV)">
			</div>
		</div>
		<div class="clear"> </div>
	</div>
	<!-- 	<div class="controls">
				<label class="control-label">Credit Card No: </label>
				<input type="text" class="form-control" name="crd_no" pattern="[0-9]{16}" placeholder="•••• •••• •••• ••••" required=""><br>
	     <select class="form-control option-w3ls" style="height: auto;">
		 <option  disabled>SELECT</option>
												<option selected>COD-(Cash on delivery)</option>
																				
																					</select>
														
													</div> -->
			
<!-- <div class="controls">
			<label class="control-label">CVV : </label>
			<input type="text" class="form-control" name="cvv" pattern="[0-9]{3}" placeholder="•••" required=""><br>
</div>	 -->	
									<!-- 		<div class="controls">
												<label class="control-label">Expiration Date</label>
												<input class="expiration-month-and-year form-control" type="text" name="expiration-month-and-year" placeholder="MM / YY"  pattern="([0-9]{2}[/]?){2}" required="">
											</div>	 -->					
											</div>
											<!-- <label class="submit check_out" id="otp"><b>Send OTP</b></label> -->
												<div class="w3_agileits_card_number_grid_right">
														
													</div>
										<button class="submit check_out" id="order_btn">Placeorder</button>
										</div>

										<div style="visibility:hidden;">
										
													<input id="pn"type="text" name="phname" placeholder="Phar name" ><br>
													<input id="qt" type="text" name="qunt" placeholder="quantity"><br>
													<input id="pdn" type="text" name="pdtnm" placeholder="pdtnm"><br>
													<input id="prp"type="text" name="prcc" placeholder="pric">
													
										
										</div>
									</section>
								</form>
			</div>
	</div>	
		</div>
			<div class="clearfix"> </div>
			<div>

			</div>
		</div>
			<div class="clearfix"> </div>
		<!-- </div> -->
	
<!-- //breadcrumbs -->
<!-- footer -->
<!-- {% include 'footer.html' %} -->
<!-- //footer -->
    <!-- <script src="{% static 'home/js/jquery-3.2.1.min.js' %}"></script>
    <script src="{% static 'home/js/popper.min.js' %}"></script>
    <script src="{% static 'home/js/bootstrap.min.js' %}"></script>
    <script src="{% static 'home/js/owl.carousel.min.js' %}"></script>
    <script src="{% static 'home/js/bootstrap-datepicker.js' %}"></script>
    <script src="{% static 'home/js/jquery.timepicker.min.js' %}"></script>
    <script src="{% static 'home/js/jquery.waypoints.min.js' %}"></script>
    <script src="{% static 'home/js/main.js' %}"></script> -->
<!-- js -->
<script src="{% static 'cart/js/jquery-1.11.1.min.js' %}"></script>
<script>
function Validate() {
<!-- console.log($('#to_tot').val()); -->
if ($('#to_tot').val() == null){
    alert('Sorry, Your Cart Is Empty');
            return false;
        }

    }
</script>

							 <!--quantity-->
									<script>
									$('.value-plus').on('click', function(){
										var divUpd = $(this).parent().find('.value'), newVal = parseInt(divUpd.text(), 10)+1;
										divUpd.text(newVal);
									});

									$('.value-minus').on('click', function(){
										var divUpd = $(this).parent().find('.value'), newVal = parseInt(divUpd.text(), 10)-1;
										if(newVal>=1) divUpd.text(newVal);
									});
									</script>
<script>

<!--  -->
<!--  -->
<!--  -->
<!--  -->
<!--  -->
$(".invert5").click(function() {
	
	
    var $row = $(this).closest("tr");    // Find the row
<!-- 	alert("value");console.log($row); -->
    var $text = $row.find(".nr").text(); // Find the text  
    // Let's test it out
  alert($text); 
 	$.ajax({
    	url:'/delete_pdt/',
		data:{"itid":$row.find(".pdid").text()},
        success:function(data){
alert("Removed from cart");
window.location.href='/cart/'
// <!-- window.location.href='/update_cart/'; -->
        }
    });
});
$(".invert").click(function() {
<!-- alert("plc_odr"); -->
var total=0;
 $("tr.item").each(function() {
    var quantity1 = $(this).find("#quant").text(),
       quantity2 = $(this).find(".mr").text();
		// alert(quantity1);
		// alert(quantity2);
    // console.log(quantity1);
    // console.log(quantity2); 
 	 $("#qt").val('');
	 $("#prp").val('');
	 $("#pn").val('');
	 $("#pdn").val(''); 

	 print(typeof(quantity1))
	 	 
	var subtot= parseInt(quantity1) * parseInt(quantity2);
	<!-- alert(subtot); -->
	total=total+subtot;
	 alert(total); 
	$('#to_tot').val(total)
	$('#to_price').val(total)

});
}); 
$("#plc_odr").click(function() {
var total=0;
 $("tr.item").each(function() {
    var quantity1 = $(this).find("#quant").text(),
        quantity2 = $(this).find(".mr").text();
/*		alert(quantity1);
		alert(quantity2);
    console.log(quantity1);
    console.log(quantity2); */
	 $("#qt").val($("#qt").val()+ "+" + $(this).find("#quant").text()+",");
	 $("#prp").val($("#prp").val()+ "+" + $(this).find(".mr").text()+",");
	 $("#pn").val($("#pn").val()+ "+" + $(this).find(".invert1").text()+",");
	 $("#pdn").val($("#pdn").val()+ "+" + $(this).find(".invert3").text()+",");
	 	 
	var subtot= parseInt(quantity1) * parseInt(quantity2);
	<!-- alert(subtot); -->
	total=total+subtot;
	<!-- alert(total); -->
	$('#to_tot').val(total)
	$('#to_price').val(total)

});
if (total!=0){
<!-- alert(total); -->
	$('#pay_form').show();
	}
else{
alert("Sorry, Your cart was empty")
}
}); 
$(".checkout-right").click(function() {
	$('#pay_form').hide();
});
$("#otp").click(function() {
var total=0;
alert("sending OTP please wait...")
 	$.ajax({
    	url:'/send_otp/',
		data:{"msg":total},
        success:function(data){
alert("OTP send, Please  check your mail");
$('#otp_val').show();
$('#otp').hide();
$('#order_btn').show();
        }
    });

	
});
</script>
	<script>
	$(document).ready(function() {
		$('#pay_form').hide();
		$('#otp_val').hide();
		// $('#order_btn').hide();
	
		<!--  var navoffeset=$(".agileits_header").offset().top; -->
	/*	 $(window).scroll(function(){
			var scrollpos=$(window).scrollTop(); 
			if(scrollpos >=navoffeset){
				$(".agileits_header").addClass("fixed");
			}else{
				$(".agileits_header").removeClass("fixed");
			}
		 }); */
		 
	});
	</script>
        <!-- jQuery (necessary for Bootstrap's JavaScript plugins) -->
        <script src="{% static 'js/jquery-3.2.1.min.js' %}"></script>
        <!-- Include all compiled plugins (below), or include individual files as needed -->
        <script src="{% static 'js/popper.min.js' %}"></script>
        <script src="{% static 'js/bootstrap.min.js' %}"></script>
        <!-- Rev slider js -->
        <script src="{% static 'vendors/revolution/js/jquery.themepunch.tools.min.js' %}"></script>
        <script src="{% static 'vendors/revolution/js/jquery.themepunch.revolution.min.js' %}"></script>
        <script src="{% static 'vendors/revolution/js/extensions/revolution.extension.actions.min.js' %}"></script>
        <script src="{% static 'vendors/revolution/js/extensions/revolution.extension.video.min.js' %}"></script>
        <script src="{% static 'vendors/revolution/js/extensions/revolution.extension.slideanims.min.js' %}"></script>
        <script src="{% static 'vendors/revolution/js/extensions/revolution.extension.layeranimation.min.js' %}"></script>
        <script src="{% static 'vendors/revolution/js/extensions/revolution.extension.navigation.min.js' %}"></script>
        <!-- Extra plugin js -->
        <script src="{% static 'vendors/owl-carousel/owl.carousel.min.js' %}"></script>
        <script src="{% static 'vendors/magnifc-popup/jquery.magnific-popup.min.js' %}"></script>
        <script src="{% static 'vendors/datetime-picker/js/moment.min.js' %}"></script>
        <script src="{% static 'vendors/datetime-picker/js/bootstrap-datetimepicker.min.js' %}"></script>
        <script src="{% static 'vendors/nice-select/js/jquery.nice-select.min.js' %}"></script>
        <script src="{% static 'vendors/jquery-ui/jquery-ui.min.js' %}"></script>
        <script src="{% static 'vendors/lightbox/simpleLightbox.min.js' %}"></script>
        
        <script src="{% static 'js/theme.js' %}"></script>
     
    </body>
</body>
</html>